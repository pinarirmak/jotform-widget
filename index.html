<!DOCTYPE html>
<html>
    <head>
        <script src="//js.jotform.com/JotFormCustomWidget.min.js"></script>

    </head>
    <body>
    Answer Array: <input id="input" type="text" value="" disabled />

<p>write js code:</p>
<span id="labelText"></span>
<textarea name="" id="code" cols="30" rows="10"></textarea>
<p></p>
<!-- <input type="button" value="deneme" id="button"/>
 --><script type="text/javascript">

var param;
JFCustomWidget.subscribe("ready", function(){
    var answer = JFCustomWidget.getWidgetSetting("answerArray");
    param = answer;
    param = parseArrayInt(param);
    document.getElementById("input").value=answer;  
            
    JFCustomWidget.subscribe("submit", function(){
        console.log('is valid' , test());
        var msg = {
                    
            valid: test(),
            value: document.getElementById("code").value
        };
                   
        JFCustomWidget.sendSubmit(msg);
        // JFCustomWidget.getWidgetSetting(answerArray);
    });
});            



function arraysEqual(a, b) {
    if (a == b) return true;
    if (a == null || b == null) return false;
    if (a.length != b.length) return false;



    for (var i = 0; i < a.length; ++i) {
        if (a[i] !== b[i]) return false;
    }
    return true;
}

function parseArrayInt(arr){
    var i = 0;
    for(i = 0;i < arr.length;i++){
        arr[i] = parseInt(arr[i],10);
    }
    return arr;
}

    
var test = function (){
    var code = document.getElementById("code").value;

    eval("function a(){"+code+"}");
    
    var isEqual = arraysEqual(param,a());
    return isEqual;
};
    


        </script>
    </body>
</html>
